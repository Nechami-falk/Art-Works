{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\WIN 10\\\\Desktop\\\\Art-Work-git\\\\client\\\\src\\\\comps\\\\common\\\\uploadImage.jsx\";\nimport React from 'react';\nimport http from '../../services/httpService';\nimport { apiUrl } from '../../config.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ReactUploadImage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {},\n      image: []\n    };\n    this.formRef = /*#__PURE__*/React.createRef();\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const form = this.formRef.current;\n      const formData = new FormData();\n      formData.append('images', this.state.image);\n      const config = {\n        headers: {\n          'content-type': 'multipart/form-data'\n        }\n      };\n      http.post(`${apiUrl}/images`, formData, config).then(res => res.json).then(json => this.setState({\n        data: json\n      }));\n      console.log(formData);\n    };\n\n    this.onFormSubmit = e => {\n      e.preventDefault();\n      const formData = new FormData();\n      formData.append('image', this.state.file);\n      /* const {data}  = this.props;\r\n      formData.append('data', data); */\n\n      const config = {\n        headers: {\n          'content-type': 'multipart/form-data'\n        }\n      };\n      http.post(`${apiUrl}/images`, formData, config).then(response => {\n        alert(\"התמונה נוספה בהצלחה\");\n      }).catch(error => {});\n    };\n\n    this.onChange = e => {\n      this.setState({\n        file: e.target.files[0]\n      });\n    };\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n\n      /* <div className=\"row h5 ps-5 pe-5\">\r\n      <form onSubmit={this.onFormSubmit} className=\"form-control\">\r\n          <h4>העלאת תמונה למוצר</h4>\r\n          <input className=\"form-control m-2\" type=\"file\"  name=\"myImage\" onChange= {this.onChange} required/>\r\n          \r\n          <button type=\"submit\" className=\"form-control\">שלח</button>\r\n      </form\r\n      </div> */\n      _jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          ref: this.formRef,\n          onSubmit: this.onSubmit,\n          enctype: \"multipart/form-data\",\n          method: \"post\",\n          name: \"fileinfo\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Your email address:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            autocomplete: \"on\",\n            autofocus: true,\n            name: \"userid\",\n            placeholder: \"email\",\n            required: true,\n            size: \"32\",\n            maxlength: \"64\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 121\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Custom file label:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"filelabel\",\n            size: \"12\",\n            maxlength: \"32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 66\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"File to stash:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: this.onChange,\n            name: \"file\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Stash the file!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)\n    );\n  }\n\n}\n\nexport default ReactUploadImage;","map":{"version":3,"sources":["C:/Users/WIN 10/Desktop/Art-Work-git/client/src/comps/common/uploadImage.jsx"],"names":["React","http","apiUrl","ReactUploadImage","Component","state","data","image","formRef","createRef","onSubmit","e","preventDefault","form","current","formData","FormData","append","config","headers","post","then","res","json","setState","console","log","onFormSubmit","file","response","alert","catch","error","onChange","target","files","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport http from '../../services/httpService';\r\nimport {apiUrl} from '../../config.json';\r\n\r\nclass ReactUploadImage extends React.Component {\r\n\r\n    state = {\r\n        data:{},\r\n        image:[]\r\n    }\r\n formRef = React.createRef();\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const form = this.formRef.current\r\n        const formData = new FormData();\r\n        formData.append('images', this.state.image);\r\n        \r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            },\r\n           \r\n        };\r\n        http.post(`${apiUrl}/images`, formData,config)\r\n        .then (res=> res.json)\r\n        .then(json => this.setState({data: json}))\r\n        console.log(formData);\r\n    }\r\n        \r\n    onFormSubmit = (e) =>{\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('image',this.state.file);\r\n        /* const {data}  = this.props;\r\n        formData.append('data', data); */\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            },\r\n           \r\n        };\r\n        http.post( `${apiUrl}/images`,formData,config)\r\n            .then((response) => {\r\n                alert(\"התמונה נוספה בהצלחה\");\r\n            }).catch((error) => {\r\n        });\r\n    }\r\n    onChange = (e) => {\r\n        this.setState({file:e.target.files[0]});\r\n      \r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n\r\n        \r\n\r\n        return (\r\n            /* <div className=\"row h5 ps-5 pe-5\">\r\n            <form onSubmit={this.onFormSubmit} className=\"form-control\">\r\n                <h4>העלאת תמונה למוצר</h4>\r\n                <input className=\"form-control m-2\" type=\"file\"  name=\"myImage\" onChange= {this.onChange} required/>\r\n                \r\n                <button type=\"submit\" className=\"form-control\">שלח</button>\r\n            </form\r\n            </div> */\r\n            <div>\r\n                <form ref={this.formRef}onSubmit={this.onSubmit} enctype=\"multipart/form-data\" method=\"post\" name=\"fileinfo\">\r\n  <label>Your email address:</label>\r\n  <input type=\"email\" autocomplete=\"on\" autofocus name=\"userid\" placeholder=\"email\" required size=\"32\" maxlength=\"64\" /><br />\r\n  <label>Custom file label:</label>\r\n  <input type=\"text\" name=\"filelabel\" size=\"12\" maxlength=\"32\" /><br />\r\n  <label>File to stash:</label>\r\n  <input type=\"file\" onChange= {this.onChange} name=\"file\" required />\r\n  <input type=\"submit\"  value=\"Stash the file!\" />\r\n</form>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ReactUploadImage"]},"metadata":{},"sourceType":"module"}