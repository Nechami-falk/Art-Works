{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\WIN 10\\\\Desktop\\\\Art-Work-git\\\\client\\\\src\\\\comps\\\\product.jsx\";\nimport React, { Component } from 'react';\nimport Joi from 'joi-browser';\nimport userService from '../services/userService';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Product extends Component {\n  constructor(...args) {\n    super(...args);\n    this.valueRef = /*#__PURE__*/React.createRef();\n    this.schema = {\n      valueCounter: Joi.number().min(1).max(1000)\n    };\n    this.state = {\n      data: \"\",\n      cart_ar: [],\n      counter: 1\n    };\n\n    this.setCounter = ob => {\n      let counter = this.state.counter;\n      if (ob === 'plus') counter++;else if (ob === 'minus' && counter > 1) counter--;\n      this.setState({\n        counter: counter\n      });\n      this.props.getCounter(counter);\n    };\n  }\n\n  componentDidMount() {\n    const user = userService.getCurrentUser();\n    this.setState({\n      user\n    });\n    const admin = userService.getCurrentAdmin();\n    this.setState({\n      admin\n    });\n  }\n\n  handleChangeCounter(e) {\n    let value = e.target.value;\n\n    if (value === \"\") {\n      return alert(\"הקלד מספר בלבד!\");\n    }\n\n    if (value > 10000) {\n      return alert(\"כמות מוגבלת עד 10000\");\n    }\n\n    this.setState({\n      counter: value\n    });\n    this.props.getCounter(value);\n  }\n\n  render() {\n    const {\n      product,\n      onDeleteProduct,\n      onAddNewProduct\n    } = this.props;\n    const {\n      admin\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-sm-6 col-md-6 col-lg-4 col-xxl-3 d-inline-block\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            width: \"16rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `../../../uploads/${product.catalogNumber}.png`,\n            alt: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body p-0 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"card-title h4 mt-2\",\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text m-1\",\n              style: {\n                fontWeight: \"bold\"\n              },\n              children: product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text m-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                children: \"\\u05DE\\u05E1\\u05E4\\u05E8 \\u05DE\\u05E7\\\"\\u05D8: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 63\n              }, this), product.catalogNumber]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text m-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\",\n                  marginEnd: \"0px\"\n                },\n                children: \"\\u05DE\\u05EA\\u05D0\\u05D9\\u05DD \\u05DC\\u05D2\\u05D9\\u05DC: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 62\n              }, this), product.age]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 33\n            }, this), product.sale && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text m-1\",\n              style: {\n                textDecoration: \"line-through\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                children: \"\\u05DE\\u05D7\\u05D9\\u05E8:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 102\n              }, this), \" \", product.price, \" \\u05E9\\\"\\u05D7\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this), !product.sale && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text m-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                children: \"\\u05DE\\u05D7\\u05D9\\u05E8:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 62\n              }, this), \" \", product.price, \" \\u05E9\\\"\\u05D7\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 33\n            }, this), product.sale && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text m-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                children: \"\\u05DE\\u05D7\\u05D9\\u05E8 \\u05DE\\u05D1\\u05E6\\u05E2:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 66\n              }, this), \" \", product.sale, \" \\u05E9\\\"\\u05D7\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 37\n            }, this), !product.sale && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text m-1\",\n              style: {\n                visibility: \"hidden\"\n              },\n              children: \"\\\"\\\"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 34\n            }, this), !admin && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container-fluid\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row justify-content-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  disabled: this.state.counter === 0,\n                  onClick: () => onAddNewProduct(product),\n                  className: \"btn-sm btn-prod m-0 col-5 mb-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-cart-plus\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 162\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row col-8 justify-content-center lh-lg mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"col-2  btnOrd\",\n                    onClick: () => this.setCounter('plus'),\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    className: \"no-outline col-4 btnOrd btnOrd2 text-center\",\n                    value: this.state.counter,\n                    name: \"valueCounter\",\n                    onChange: e => this.handleChangeCounter(e)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"col-2 btnOrd\",\n                    onClick: () => this.setCounter('minus'),\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 33\n            }, this), admin && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row m-2\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"#\",\n                  className: \"btn-sm col-lg-5 btn-prod ms-3 mb-1\",\n                  onClick: () => onDeleteProduct(product._id),\n                  children: [\"\\u05DE\\u05D7\\u05E7\", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-trash-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 142\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/editProduct/${product._id}`,\n                  className: \"btn-sm btn-prod col-lg-5 ms-2 mb-1\",\n                  style: {},\n                  children: [\"\\u05E2\\u05D3\\u05DB\\u05DF\", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 136\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Product;","map":{"version":3,"sources":["C:/Users/WIN 10/Desktop/Art-Work-git/client/src/comps/product.jsx"],"names":["React","Component","Joi","userService","Link","Product","valueRef","createRef","schema","valueCounter","number","min","max","state","data","cart_ar","counter","setCounter","ob","setState","props","getCounter","componentDidMount","user","getCurrentUser","admin","getCurrentAdmin","handleChangeCounter","e","value","target","alert","render","product","onDeleteProduct","onAddNewProduct","width","catalogNumber","name","fontWeight","description","marginEnd","age","sale","textDecoration","price","visibility","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Joi from 'joi-browser';\r\nimport userService from '../services/userService'; \r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nclass Product extends Component {\r\n\r\n    valueRef= React.createRef();\r\n\r\n    schema = {\r\n        valueCounter: Joi.number().min(1).max(1000)\r\n    }\r\n\r\n    state = { \r\n        data:\"\",\r\n        cart_ar:[],\r\n        counter: 1 \r\n     }\r\n\r\n\r\n    componentDidMount () {\r\n        const user = userService.getCurrentUser();\r\n        this.setState({user});\r\n    \r\n        const admin = userService.getCurrentAdmin();\r\n        this.setState({admin});\r\n    \r\n        \r\n      }\r\n\r\n    \r\n\r\n    handleChangeCounter (e) {\r\n        let value = e.target.value;\r\n        if (value === \"\"){\r\n            return alert(\"הקלד מספר בלבד!\")\r\n        }\r\n        if(value > 10000){\r\n            return alert(\"כמות מוגבלת עד 10000\")\r\n        }\r\n        this.setState({ counter:value });\r\n        this.props.getCounter(value); \r\n       \r\n    }\r\n\r\n    setCounter = (ob) => {\r\n        let  counter  = this.state.counter;\r\n        if ( ob === 'plus') counter++;\r\n        else if ( ob === 'minus' && counter > 1) counter--;\r\n        this.setState({ counter: counter});\r\n        this.props.getCounter(counter);\r\n        \r\n    }     \r\n\r\n    \r\n\r\n   \r\n\r\n    render() {\r\nconst { product, onDeleteProduct, onAddNewProduct } = this.props;\r\n\r\n\r\nconst {admin} =this.state;\r\n\r\n\r\n        return ( \r\n            <React.Fragment>\r\n        \r\n        \r\n                    \r\n                        <div className=\"col-12 col-sm-6 col-md-6 col-lg-4 col-xxl-3 d-inline-block\">\r\n                            <div className=\"card\" style={{width:\"16rem\"}}> \r\n                            {/* <img src={ product.image ?  product.image : `https://d3m9l0v76dty0.cloudfront.net/system/photos/574811/original/e86fdd306f6d4885033ff36ce9b67034.jpg?1620216252`} alt=\"\" className=\"card-img-top\"/> */}\r\n                            <img src={`../../../uploads/${product.catalogNumber}.png`} alt={product.name}/>\r\n                            <div className=\"card-body p-0 text-center\">\r\n                                \r\n                                <h1 className=\"card-title h4 mt-2\">{product.name}</h1>\r\n                                <p className=\"card-text m-1\" style={{fontWeight:\"bold\"}}>{product.description}</p>\r\n                                <p className=\"card-text m-1\" ><span style={{fontWeight:\"bold\"}}>מספר מק\"ט: </span>{product.catalogNumber}</p>\r\n                                <p className=\"card-text m-1\"><span style={{fontWeight:\"bold\", marginEnd:\"0px\"}}>מתאים לגיל: </span>{product.age}</p>\r\n                                {product.sale && \r\n                                <p className=\"card-text m-1\" style={{textDecoration:\"line-through\"}}><span style={{fontWeight:\"bold\"}} >מחיר:</span> {product.price} ש\"ח</p>\r\n                                }\r\n                                { ! product.sale &&\r\n                                <p className=\"card-text m-1\"><span style={{fontWeight:\"bold\"}} >מחיר:</span> {product.price} ש\"ח</p>\r\n                                }\r\n                                { product.sale &&\r\n                                    <p className=\"card-text m-1\"><span style={{fontWeight:\"bold\"}}>מחיר מבצע:</span> {product.sale} ש\"ח</p>\r\n                                }\r\n                                { ! product.sale && \r\n                                 <p className=\"card-text m-1\" style={{visibility:\"hidden\"}}>\"\"</p>\r\n                                }\r\n                                { !admin &&\r\n                                <div className=\"container-fluid\">\r\n                                <div className=\"row justify-content-center\">\r\n                                <button disabled={this.state.counter === 0} onClick ={ () =>onAddNewProduct(product)} className=\"btn-sm btn-prod m-0 col-5 mb-1\"><i className=\"fas fa-cart-plus\"></i></button>\r\n                              \r\n                                <div className=\"row col-8 justify-content-center lh-lg mb-1\">\r\n                                <button className=\"col-2  btnOrd\"  onClick={()=> this.setCounter('plus')} >+</button>\r\n                                <input type=\"number\" className=\"no-outline col-4 btnOrd btnOrd2 text-center\" value={this.state.counter} name=\"valueCounter\"  onChange={(e)=> this.handleChangeCounter(e)}></input>\r\n                                <button className=\"col-2 btnOrd\" onClick={() => this.setCounter('minus')} >-</button>\r\n                                </div>\r\n                                </div>\r\n                                </div>\r\n                                }\r\n                                { admin && \r\n                                <div className=\"container\">\r\n                                <div className=\"row m-2\">\r\n                                <Link to=\"#\" className=\"btn-sm col-lg-5 btn-prod ms-3 mb-1\" onClick={ () => onDeleteProduct(product._id)}>מחק<i className=\"fas fa-trash-alt\"></i></Link>\r\n                                <Link to={`/editProduct/${product._id}`} className=\"btn-sm btn-prod col-lg-5 ms-2 mb-1\" style={{}}>עדכן<i className=\"fas fa-edit\"></i></Link>\r\n                                </div>\r\n                                </div>\r\n    }\r\n                        \r\n                            </div>\r\n                            </div>\r\n                           \r\n                            \r\n                        </div>\r\n\r\n                        \r\n                     \r\n            \r\n            </React.Fragment>\r\n         );\r\n    }\r\n\r\n}\r\nexport default Product;"]},"metadata":{},"sourceType":"module"}